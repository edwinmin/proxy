package com.open.proxy.aop;import org.junit.Test;import com.open.proxy.aop.advice.Advice;import com.open.proxy.aop.advice.DefaultAdvice;import com.open.proxy.aop.advisor.AspectJExpressionAdvisor;import com.open.proxy.aop.pointcut.AspectJExpressionPointCut;/** * @author jinming.wu * @date 2014-4-7 */public class JdkProxyTest {    @Test    public void testInterceptor() throws Exception {        AspectJExpressionPointCut pointCut = new AspectJExpressionPointCut();        pointCut.setExpression("execution(* com.open.proxy.*.*(..))");        Advice advice = new DefaultAdvice();        AspectJExpressionAdvisor advisor = new AspectJExpressionAdvisor();        advisor.setAdvice(advice);        advisor.setPointCut(pointCut);        Object target = new Object();        TargetSource targetSource = new TargetSource(target, target.getClass(), target.getClass().getInterfaces());        JdkProxy proxy = new JdkProxy(targetSource, advisor);        // 获取代理        proxy.getProxy();    }}